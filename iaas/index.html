



<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
      
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.0.4, mkdocs-material-4.4.3">
    
    
      
        <title>Infrastructure as a Service - ISEN Cloud Migration Training</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/application.30686662.css">
      
      
    
    
      <script src="../assets/javascripts/modernizr.74668098.js"></script>
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="../assets/fonts/material-icons.css">
    
    
    
      
    
    
  </head>
  
    <body dir="ltr">
  
    <svg class="md-svg">
      <defs>
        
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="#infrastructure-as-a-service" tabindex="1" class="md-skip">
        Skip to content
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href=".." title="ISEN Cloud Migration Training" class="md-header-nav__button md-logo">
          
            <i class="md-icon"></i>
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            <span class="md-header-nav__topic">
              ISEN Cloud Migration Training
            </span>
            <span class="md-header-nav__topic">
              
                Infrastructure as a Service
              
            </span>
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
          
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
        
      </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
      <main class="md-main" role="main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href=".." title="ISEN Cloud Migration Training" class="md-nav__button md-logo">
      
        <i class="md-icon"></i>
      
    </a>
    ISEN Cloud Migration Training
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href=".." title="Introduction" class="md-nav__link">
      Introduction
    </a>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        Infrastructure as a Service
      </label>
    
    <a href="./" title="Infrastructure as a Service" class="md-nav__link md-nav__link--active">
      Infrastructure as a Service
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#step-by-step-instructions" class="md-nav__link">
    Step-by-Step instructions
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#follow-up-exercise" class="md-nav__link">
    Follow up exercise
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#next-steps" class="md-nav__link">
    Next steps
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
    
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../cicd_artifacts/" title="Deploy through a CI/CD Pipeline" class="md-nav__link">
      Deploy through a CI/CD Pipeline
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../iaas_w_aurora/" title="The first managed service, Aurora" class="md-nav__link">
      The first managed service, Aurora
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../docker/" title="Port your application to Docker" class="md-nav__link">
      Port your application to Docker
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../lambda/" title="Port your application to Lambda" class="md-nav__link">
      Port your application to Lambda
    </a>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#step-by-step-instructions" class="md-nav__link">
    Step-by-Step instructions
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#follow-up-exercise" class="md-nav__link">
    Follow up exercise
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#next-steps" class="md-nav__link">
    Next steps
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                
                <h1 id="infrastructure-as-a-service">Infrastructure as a Service</h1>
<p>In this first exercise, we are building an application consisting out of two components:</p>
<ul>
<li>A web server that is containg a so called CRUD application (Create, Read, Update, Delete)</li>
<li>A database server that is hosting the applications data</li>
</ul>
<h2 id="step-by-step-instructions">Step-by-Step instructions</h2>
<ol>
<li>
<p>Go to the AWS Console and deploy an EC2 Instance through the EC2 Console. This EC2 instance will act as your database. When going through the wizard, take care of the following things:</p>
<ul>
<li>Choose the latest "Amazon Linux 2" AMI (Amazon Machine Image as image)</li>
<li>Choose "t2.micro" as instance type</li>
<li>In the security group screen, allow connections on port 3306 (MySQL) and 22 (SSH) from anywhere</li>
<li>When launching the instance, create a new key pair<ul>
<li>do not lose the file that is downloaded after creating the keypair, you need it to connect to your EC2 instance</li>
</ul>
</li>
</ul>
</li>
<li>
<p>After your EC2 instance is launched, connect to your instance with SSH:</p>
<ul>
<li>Go in your terminal to the folder with the previously downloaded key pair</li>
<li>Connect with SSH like follows:<div class="codehilite"><pre><span></span><span class="n">ssh</span> <span class="o">-</span><span class="n">i</span> <span class="o">&lt;</span><span class="n">your</span><span class="o">-</span><span class="k">key</span><span class="o">-</span><span class="n">pair</span><span class="p">.</span><span class="n">pem</span><span class="o">&gt;</span> <span class="n">ec2</span><span class="o">-</span><span class="k">user</span><span class="o">@&lt;</span><span class="k">public</span><span class="o">-</span><span class="n">ip</span><span class="o">-</span><span class="k">of</span><span class="o">-</span><span class="n">your</span><span class="o">-</span><span class="n">ec2</span><span class="o">-</span><span class="n">instance</span><span class="o">&gt;</span>
</pre></div>


</li>
</ul>
</li>
<li>
<p>Install MySQL on this EC2 instance:</p>
<div class="codehilite"><pre><span></span><span class="n">yum</span> <span class="n">install</span> <span class="o">-</span><span class="n">y</span> <span class="n">mysql</span> <span class="n">mariadb</span><span class="o">-</span><span class="n">server</span>
</pre></div>


</li>
<li>
<p>Run the following statement to create your database schema:</p>
<div class="codehilite"><pre><span></span><span class="n">wget</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="mi">3</span><span class="n">r1</span><span class="p">.</span><span class="n">co</span><span class="o">/</span><span class="n">cloud</span><span class="o">-</span><span class="n">migration</span><span class="o">/</span><span class="n">files</span><span class="o">/</span><span class="k">database</span><span class="p">.</span><span class="k">sql</span>
<span class="n">mysql</span> <span class="o">-</span><span class="n">u</span> <span class="n">root</span> <span class="o">&lt;</span> <span class="k">database</span><span class="p">.</span><span class="k">sql</span>
</pre></div>


<p>With this, you have successfully installed and configured your database.<br />
Now we move on the webserver installation.</p>
</li>
<li>
<p>Go again to the AWS Console and deploy an EC2 Instance through the EC2 Console. This EC2 instance will act as your webserver. When going through the wizard, take care of the following things:</p>
<ul>
<li>Choose the latest "Amazon Linux 2" AMI (Amazon Machine Image as image)</li>
<li>Choose "t2.micro" as instance type</li>
<li>In the security group screen, allow connections on port 8080 (HTTP) and 22 (SSH) from anywhere</li>
<li>When launching the instance, use your existing key pair.</li>
</ul>
</li>
<li>
<p>After your EC2 instance is launched, connect to your instance with SSH:</p>
<ul>
<li>Go in your terminal to the folder with the previously downloaded key pair</li>
<li>Connect with SSH like follows:<div class="codehilite"><pre><span></span><span class="n">ssh</span> <span class="o">-</span><span class="n">i</span> <span class="o">&lt;</span><span class="n">your</span><span class="o">-</span><span class="k">key</span><span class="o">-</span><span class="n">pair</span><span class="p">.</span><span class="n">pem</span><span class="o">&gt;</span> <span class="n">ec2</span><span class="o">-</span><span class="k">user</span><span class="o">@&lt;</span><span class="k">public</span><span class="o">-</span><span class="n">ip</span><span class="o">-</span><span class="k">of</span><span class="o">-</span><span class="n">your</span><span class="o">-</span><span class="n">ec2</span><span class="o">-</span><span class="n">instance</span><span class="o">&gt;</span>
</pre></div>


</li>
</ul>
</li>
<li>
<p>Download and start the sample webserver application:</p>
<div class="codehilite"><pre><span></span><span class="n">wget</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="mi">3</span><span class="n">r1co</span><span class="o">-</span><span class="n">github</span><span class="o">-</span><span class="n">artifacts</span><span class="p">.</span><span class="n">s3</span><span class="p">.</span><span class="n">amazonaws</span><span class="p">.</span><span class="n">com</span><span class="o">/</span><span class="n">crud</span><span class="o">-</span><span class="n">app</span><span class="p">.</span><span class="n">tar</span><span class="p">.</span><span class="n">gz</span>
<span class="n">tar</span> <span class="n">xzvf</span> <span class="n">crud</span><span class="o">-</span><span class="n">app</span><span class="p">.</span><span class="n">tar</span><span class="p">.</span><span class="n">gz</span>
<span class="n">cd</span> <span class="n">crud</span><span class="o">-</span><span class="n">app</span>
<span class="p">.</span><span class="o">/</span><span class="n">crud</span><span class="o">-</span><span class="n">app</span> <span class="c1">--dbHost &lt;private-ip-of-your-database-instance&gt; --dbName isen --dbUser isenuser --dbPass isen1234</span>
</pre></div>


</li>
<li>
<p>In your browser go to http://<public-ip-of-your-ec2-instance>:8080 .<br />
You should see your application running.</p>
</li>
</ol>
<p>Congratulations, you have now deployed our first application based on VM Instances.</p>
<h2 id="follow-up-exercise">Follow up exercise</h2>
<p>To get familiar with CloudFormation, there is a sample file available <a href="../files/cf-application.yaml">here</a>.  </p>
<ol>
<li>
<p>Deploy this file with CloudFormation.  </p>
</li>
<li>
<p>Currently, the cf-application.yaml is deploying a single EC2 Instance. Your task is now to transform the EC2 Resource into a <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-as-launchconfig.html">Launch Configuration</a>. Afterwards, assign this Launch Configuration to an <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-as-group.html">Autoscaling Group</a>. </p>
</li>
</ol>
<h2 id="next-steps">Next steps</h2>
<p>You can now move to the next chapter, where we will automate the deployment of our application.</p>
                
                  
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href=".." title="Introduction" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Introduction
              </span>
            </div>
          </a>
        
        
          <a href="../cicd_artifacts/" title="Deploy through a CI/CD Pipeline" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Deploy through a CI/CD Pipeline
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        powered by
        <a href="https://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../assets/javascripts/application.ac79c3b0.js"></script>
      
      <script>app.initialize({version:"1.0.4",url:{base:".."}})</script>
      
    
  </body>
</html>